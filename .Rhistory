geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=is_actual, alpha=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))  +
scale_alpha_manual(values = c(.1,0))
ggplot(data, aes(x=year, y=polarization, color=is_actual, alpha=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))  +
scale_alpha_manual(values = c(1,0))
ggplot(data, aes(x=year, y=polarization, color=is_actual, alpha=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))  +
scale_alpha_manual(values = c(.8,0))
ggplot(data, aes(x=year, y=polarization, color=is_actual, alpha=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))  +
scale_alpha_manual(values = c(.6,0))
ggplot(data, aes(x=year, y=polarization, color=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual, alpha=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))  +
scale_alpha_manual(values = c(.6,0))
ggplot(data, aes(x=year, y=polarization, color=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=is_actual))+
stat_smooth(aes(group=is_actual), method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=is_actual), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, is_actual == 'actual value'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Leave-out estimate') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(-1,-10,-10,-10), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank(), legend.text = element_text(margin = margin(r =10, unit = "pt"), size=12)) +
scale_color_manual(values=c("indianred2", "lightsteelblue3")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
library(ggplot2)
library(ggrepel)
library(RColorBrewer)
library(gridExtra)
library(grid)
library(scales)
setwd('/Users/ddemszky/Google_Drive/Research/Framing/NAACL/framing-twitter')
data <- read.csv("data/topic_eval/collapsed_tweet_results.csv",header=TRUE)
data2 <- read.csv("data/topic_eval/collapsed_word_results.csv",header=TRUE)
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
p1 = ggplot(data=data, aes(x=reorder(model, accuracy), y=accuracy, fill=reorder(model, accuracy))) +
geom_bar(stat="identity", ) +
geom_errorbar(aes(ymin=accuracy-se, ymax=accuracy+se), width=.2) +
xlab("") +
ylab("Accuracy") +
theme_bw(base_size=13) +
ggtitle("Tweet intrusion") +
scale_fill_manual(values=cbPalette) +
guides(fill=FALSE) +
scale_y_continuous(limits=c(.4,.8),oob = rescale_none)
p1
p2 = ggplot(data=data2, aes(x=reorder(model, accuracy), y=accuracy, fill=reorder(model, accuracy))) +
geom_bar(stat="identity", ) +
geom_errorbar(aes(ymin=accuracy-se, ymax=accuracy+se), width=.2) +
xlab("") +
ylab("") +
theme_bw(base_size=13) +
ggtitle("Word intrusion")+
scale_fill_manual(values=cbPalette) +
guides(fill=FALSE) +
scale_y_continuous(limits=c(.2,.55),oob = rescale_none)
grid.arrange(p1, p2, nrow=1)
data <- read.csv("data/output/topic_polarization_relative.csv",header=TRUE)
ggplot(data, aes(x=year, y=polarization, color=kind))+
stat_smooth(aes(group=kind), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization, color=kind))+
stat_smooth(aes(group=kind), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE) +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE) +
geom_point(pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE) +
geom_point(pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE) +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE) +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization, color=kind))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization, color=kind))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))+
scale_color_manual(values=c("khaki1", "deeppink4"))
ggplot(data, aes(x=year, y=polarization, color=kind))+
stat_smooth(aes(group=kind), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization, color=kind))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))+
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(.5, 0.555))+
scale_color_manual(values=c("khaki1", "deeppink4"))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization, color=kind))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))+
scale_y_continuous(limits = c(2015.5,2019.05), expand = c(.5, 0.555))+
scale_color_manual(values=c("khaki1", "deeppink4"))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization, color=kind))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))+
scale_y_continuous(limits = c(.5,.555), expand = c(0,0))+
scale_color_manual(values=c("khaki1", "deeppink4"))
ggplot(data, aes(x=year, y=polarization, color=kind))+
stat_smooth(aes(group=kind), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="top", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_y_continuous(limits = c(.5,.555), expand = c(0,0))+
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=kind))+
stat_smooth(aes(group=kind), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="none", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_y_continuous(limits = c(.5,.555), expand = c(0,0))+
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data, aes(x=year, y=polarization, color=kind))+
stat_smooth(aes(group=kind), method=lm, se=TRUE, fullrange=TRUE) +
geom_line(aes(group=label), color='gray75', linetype='dashed') +
geom_point(aes(fill=kind), pch=21, size=2, colour='gray20')+
geom_point() +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(data=subset(data, kind == 'within-topic'), aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="none", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_color_manual(values=c("khaki1", "deeppink4")) +
scale_y_continuous(limits = c(.5,.551), expand = c(0,0))+
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))
ggplot(data %>% filter(kind=='between-topic'), aes(x=year, y=polarization))+
stat_smooth(method=lm, se=TRUE, fullrange=TRUE, color='khaki1') +
geom_point(pch=21, size=2, colour='gray20')+
geom_point(colour='khaki1') +
geom_point(shape=1, size=2, colour='gray20') +
geom_text_repel(aes(label=label),color='gray10', show.legend = FALSE) +
xlab('Year') +
ylab('Polarization') +
theme_bw(base_size=13) +
theme(legend.position="none", legend.direction="horizontal", legend.title = element_blank(), legend.box.margin=margin(0,0,-10,0), legend.text = element_text(margin = margin(r =50, unit = "pt"), size=12), panel.grid.major.x = element_blank(), panel.grid.minor = element_blank()) +
scale_x_continuous(limits = c(2015.5,2019.05), expand = c(0, 0))+
scale_y_continuous(limits = c(.5,.551), expand = c(0,0))+
scale_color_manual(values=c("khaki1", "deeppink4"))
library(ggplot2)
library(ggrepel)
setwd('/Users/ddemszky/Google_Drive/Research/Framing/NAACL/framing-twitter')
data <- read.csv("verify_partisanship_assignment/output/verify_party_assignment.csv", header=TRUE)
# We exclude DC because it has a disproportionately large number of news media Twitter handles that make it an outlier. Moreover, DC is not an official state.
data = data[data$abbr != 'DC',]
data$avg_part <- rowMeans(subset(data, select = c(rep_share, rep_twitter)), na.rm = TRUE)
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter, color=avg_part)) +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), shape = 1,colour = "black") +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
#scale_color_distiller("Prop. Rep", palette = "RdBu", limits=c(0,1)) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.01, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter)) +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), shape = 1,colour = "black") +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.01, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter)) +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), shape = 1,colour = "black") +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter)) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), colour='grey') +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), fill='grey') +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), colour='grey', shape=21) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), fill='grey', shape=21) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), fill='coral1', shape=21) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), fill='dimgray', shape=21) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), fill='brown4', shape=21) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
ggplot(data) +
geom_smooth(method='lm', aes(x=rep_share, y=rep_twitter, weight=partisan_twitter), size=.1, color='black', se=TRUE, fullrange=TRUE)  +
geom_point(aes(x=rep_share, y=rep_twitter, size=partisan_twitter), fill='brown4', shape=21, alpha=.6) +
geom_text_repel(aes(x=rep_share, y=rep_twitter, label=abbr), size=3.7) +
theme_bw(base_size=14) +
labs(x='Repuplican two-party share in 2016 elections', y='Proportion of Rep users in our data', title='', size='No. of partisan\nusers') +
scale_y_continuous(breaks=seq(0,1,.1)) + scale_x_continuous(breaks=seq(0,1,.1), expand=c(0,0), limits=c(0.3, .77))  +
theme(legend.background = element_rect(color="black",size = 0.1),legend.margin=margin(c(4,4,5,4)), legend.title=element_text(size=8),
legend.box.margin=margin(-5,-1,-1,-10))
